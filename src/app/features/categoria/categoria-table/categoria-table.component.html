<div class="DivTitlebar">
    <h1>Busca de Categoria</h1>
</div>
<br>
<br>
<div class="Opcaonovo">
    <button mat-button (click)="navigateToCategoriaCreate()">
        Criar
        <mat-icon>add_circle</mat-icon>
    </button>
</div>
<br>
<div class="row Opcaosfiltro">
    <div class="filter-container">
        <input type="text" (keyup)="applyFilter(getValue($event))" placeholder="Pesquisa de Categoria">
        <input type="date" (change)="filterByDateRange()" placeholder="Data de Inícial" [(ngModel)]="dataInicio">
        <input type="date" (change)="filterByDateRange()" placeholder="Data de Final" [(ngModel)]="dataFim">
        <select (change)="filterBySituacao()" [(ngModel)]="situacao">
            <option value="">Todas</option>
            <option value="pago">Pago</option>
            <option value="pendente">Pendente</option>
        </select>
        <button mat-button (click)="apagarFiltro()">
            Filtrar
            <mat-icon>filter_list_alt</mat-icon>
        </button>
    </div>
</div>
<br>
<br>
<div class="row GridView">
    <div class="scrollable-container">
        <table mat-table [dataSource]="dataSource" matSort matSortStart="desc" class="mat-elevation-z8 full-width-table">
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CODIGO</th>
                <td mat-cell *matCellDef="let categoria">{{ categoria.id }}</td>
            </ng-container>
            <ng-container matColumnDef="nome">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>NOME</th>
                <td mat-cell *matCellDef="let categoria">{{ categoria.nome }}</td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Ações</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="action" class="custom-icon-button">
                        <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="excluirCategoria(element)">
                            <mat-icon>edit</mat-icon>
                            <span>Editar</span>
                        </button>
                        <button mat-menu-item (click)="excluirCategoria(element)">
                            <mat-icon>delete</mat-icon>
                            <span>Excluir</span>
                        </button>
                        <button mat-menu-item (click)="excluirCategoria(element)">
                            <mat-icon>payment</mat-icon>
                            <span>Pagar</span>
                        </button>
                    </mat-menu>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="row-data"></tr>
        </table>
    </div>
    <div class="paginator-container">
        <mat-paginator [pageSize]="20" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
</div>
